"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[601],{15367:(e,t,n)=>{n.d(t,{v:()=>l});var o=n(16606);let r=e=>{let t;let n=new Set,o=(e,o)=>{let r="function"==typeof e?e(t):e;if(!Object.is(r,t)){let e=t;t=(null!=o?o:"object"!=typeof r||null===r)?r:Object.assign({},t,r),n.forEach(n=>n(t,e))}},r=()=>t,a={setState:o,getState:r,getInitialState:()=>i,subscribe:e=>(n.add(e),()=>n.delete(e))},i=t=e(o,r,a);return a},a=e=>e?r(e):r,i=e=>e,s=e=>{let t=a(e),n=e=>(function(e,t=i){let n=o.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return o.useDebugValue(n),n})(t,e);return Object.assign(n,t),n},l=e=>e?s(e):s},21951:(e,t,n)=>{n.d(t,{Zr:()=>c,lt:()=>i});let o=new Map,r=e=>{let t=o.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([e,t])=>[e,t.getState()])):{}},a=(e,t,n)=>{if(void 0===e)return{type:"untracked",connection:t.connect(n)};let r=o.get(n.name);if(r)return{type:"tracked",store:e,...r};let a={connection:t.connect(n),stores:{}};return o.set(n.name,a),{type:"tracked",store:e,...a}},i=(e,t={})=>(n,o,i)=>{let l;let{enabled:c,anonymousActionType:d,store:u,...f}=t;try{l=(null==c||c)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(e){}if(!l)return e(n,o,i);let{connection:p,...y}=a(u,l,f),g=!0;i.setState=(e,t,a)=>{let s=n(e,t);if(!g)return s;let l=void 0===a?{type:d||"anonymous"}:"string"==typeof a?{type:a}:a;return void 0===u?null==p||p.send(l,o()):null==p||p.send({...l,type:`${u}/${l.type}`},{...r(f.name),[u]:i.getState()}),s};let h=(...e)=>{let t=g;g=!1,n(...e),g=t},m=e(i.setState,o,i);if("untracked"===y.type?null==p||p.init(m):(y.stores[y.store]=i,null==p||p.init(Object.fromEntries(Object.entries(y.stores).map(([e,t])=>[e,e===y.store?m:t.getState()])))),i.dispatchFromDevtools&&"function"==typeof i.dispatch){let e=!1,t=i.dispatch;i.dispatch=(...n)=>{"__setState"!==n[0].type||e||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),e=!0),t(...n)}}return p.subscribe(e=>{var t;switch(e.type){case"ACTION":if("string"!=typeof e.payload){console.error("[zustand devtools middleware] Unsupported action format");return}return s(e.payload,e=>{if("__setState"===e.type){if(void 0===u){h(e.state);return}1!==Object.keys(e.state).length&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);let t=e.state[u];if(null==t)return;JSON.stringify(i.getState())!==JSON.stringify(t)&&h(t);return}i.dispatchFromDevtools&&"function"==typeof i.dispatch&&i.dispatch(e)});case"DISPATCH":switch(e.payload.type){case"RESET":if(h(m),void 0===u)return null==p?void 0:p.init(i.getState());return null==p?void 0:p.init(r(f.name));case"COMMIT":if(void 0===u){null==p||p.init(i.getState());break}return null==p?void 0:p.init(r(f.name));case"ROLLBACK":return s(e.state,e=>{if(void 0===u){h(e),null==p||p.init(i.getState());return}h(e[u]),null==p||p.init(r(f.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return s(e.state,e=>{if(void 0===u){h(e);return}JSON.stringify(i.getState())!==JSON.stringify(e[u])&&h(e[u])});case"IMPORT_STATE":{let{nextLiftedState:n}=e.payload,o=null==(t=n.computedStates.slice(-1)[0])?void 0:t.state;if(!o)return;void 0===u?h(o):h(o[u]),null==p||p.send(null,n);break}case"PAUSE_RECORDING":return g=!g}return}}),m},s=(e,t)=>{let n;try{n=JSON.parse(e)}catch(e){console.error("[zustand devtools middleware] Could not parse the received json",e)}void 0!==n&&t(n)},l=e=>t=>{try{let n=e(t);if(n instanceof Promise)return n;return{then:e=>l(e)(n),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>l(t)(e)}}},c=(e,t)=>(n,o,r)=>{let a,i={storage:function(e,t){let n;try{n=e()}catch(e){return}return{getItem:e=>{var t;let o=e=>null===e?null:JSON.parse(e,void 0),r=null!=(t=n.getItem(e))?t:null;return r instanceof Promise?r.then(o):o(r)},setItem:(e,t)=>n.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>n.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},s=!1,c=new Set,d=new Set,u=i.storage;if(!u)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...e)},o,r);let f=()=>{let e=i.partialize({...o()});return u.setItem(i.name,{state:e,version:i.version})},p=r.setState;r.setState=(e,t)=>{p(e,t),f()};let y=e((...e)=>{n(...e),f()},o,r);r.getInitialState=()=>y;let g=()=>{var e,t;if(!u)return;s=!1,c.forEach(e=>{var t;return e(null!=(t=o())?t:y)});let r=(null==(t=i.onRehydrateStorage)?void 0:t.call(i,null!=(e=o())?e:y))||void 0;return l(u.getItem.bind(u))(i.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===i.version)return[!1,e.state];if(i.migrate){let t=i.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;let[r,s]=e;if(n(a=i.merge(s,null!=(t=o())?t:y),!0),r)return f()}).then(()=>{null==r||r(a,void 0),a=o(),s=!0,d.forEach(e=>e(a))}).catch(e=>{null==r||r(void 0,e)})};return r.persist={setOptions:e=>{i={...i,...e},e.storage&&(u=e.storage)},clearStorage:()=>{null==u||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>g(),hasHydrated:()=>s,onHydrate:e=>(c.add(e),()=>{c.delete(e)}),onFinishHydration:e=>(d.add(e),()=>{d.delete(e)})},i.skipHydration||g(),a||y}},58115:(e,t,n)=>{n.d(t,{A:()=>o});let o=(0,n(85507).A)("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]])},67259:(e,t,n)=>{n.d(t,{d:()=>i});var o=n(15367),r=n(21951),a=n(29809);let i=(0,o.v)()((0,r.lt)((0,r.Zr)((e,t)=>({connections:[],loading:!1,error:null,toolDefinitions:{},toolLoadingStatus:{},mcpStatuses:{},availableTypes:[],loadConnections:async()=>{console.log("useConnectionStore: loadConnections called"),e({loading:!0,error:null});let n=t().loadAvailableTypes();try{let n=await a.F.connections.list();if(!Array.isArray(n))throw console.error("API response for connections is not an array:",n),Error("Invalid data received from server.");let o=n.map(e=>{var t;return{...e,is_default:null!==(t=e.is_default)&&void 0!==t&&t}});e({connections:o,loading:!1}),[...new Set(o.map(e=>e.type))].forEach(e=>{t().toolLoadingStatus[e]&&"idle"!==t().toolLoadingStatus[e]&&"error"!==t().toolLoadingStatus[e]||t().fetchToolsForConnection(e)})}catch(t){console.error("Failed to load connections:",t),e({error:"Failed to load connections. Please try again.",loading:!1,connections:[]}),n.catch(e=>console.error("Error from concurrent loadAvailableTypes:",e))}},loadAvailableTypes:async()=>{try{let t=await a.F.connections.getTypes();e({availableTypes:t})}catch(t){console.error("Failed to load available connection types:",t),e(e=>({error:e.error||"Failed to load connection types."}))}},createConnection:async n=>{try{if(console.log("useConnectionStore: Calling unified api.connections.create"),!n.name||!n.type)throw Error("Connection name and type are required to create.");let{name:o,type:r,config:i,...s}=n,l={name:o,type:r,...i||{},...s},c=await a.F.connections.create(l);if(c){e(e=>({connections:[...e.connections,c]}));let n=t().toolLoadingStatus[c.type];return n&&"idle"!==n&&"error"!==n||t().fetchToolsForConnection(c.type),c}throw console.error("useConnectionStore: api.connections.create returned nullish value unexpectedly."),Error("Connection creation failed unexpectedly.")}catch(e){if(console.error("useConnectionStore: Failed to create connection:",e),e instanceof Error)throw e;throw Error("An unknown error occurred while creating the connection.")}},updateConnection:async(t,n)=>{try{if(!n.type)throw Error("Connection type is required for update.");let o=await a.F.connections.update(t,n);return e(e=>({connections:e.connections.map(e=>e.id===t?o:e)})),o}catch(e){return console.error("Failed to update connection:",e),null}},deleteConnection:async t=>{try{return await a.F.connections.delete(t),e(e=>({connections:e.connections.filter(e=>e.id!==t)})),!0}catch(e){return console.error("Failed to delete connection:",e),!1}},setDefaultConnection:async t=>{try{return await a.F.connections.setDefault(t),e(e=>({connections:e.connections.map(e=>({...e,is_default:e.id===t}))})),!0}catch(e){return console.error("Failed to set default connection:",e),!1}},testConnection:async e=>{try{if(!e.type)throw Error("Connection type is required for testing.");return await a.F.connections.test(e)}catch(e){return console.error("Failed to test connection:",e),{valid:!1,message:e instanceof Error?e.message:"Failed to test connection"}}},fetchToolsForConnection:async n=>{console.log("useConnectionStore: fetchToolsForConnection called for ".concat(n));let o=t().toolLoadingStatus[n];if("loading"===o||"success"===o){console.log("Skipping fetch for ".concat(n,", status: ").concat(o));return}e(e=>({toolLoadingStatus:{...e.toolLoadingStatus,[n]:"loading"}}));try{console.log("useConnectionStore: Attempting to fetch tools for ".concat(n,"..."));let t=await a.F.connections.getTools(n);console.log("useConnectionStore: Received tools for ".concat(n,":"),t),e(e=>(console.log("useConnectionStore: Setting definitions and status=success for ".concat(n)),{toolDefinitions:{...e.toolDefinitions,[n]:t},toolLoadingStatus:{...e.toolLoadingStatus,[n]:"success"}}))}catch(t){console.error("Failed to fetch tools for ".concat(n,":"),t),e(e=>(console.log("useConnectionStore: Setting status=error for ".concat(n)),{toolLoadingStatus:{...e.toolLoadingStatus,[n]:"error"}}))}},getConnectionsByType:e=>t().connections.filter(t=>t.type===e),getDefaultConnection:e=>{let n=t().getConnectionsByType(e);return n.find(e=>e.is_default)||n[0]||null}}),{name:"connection-store",partialize:e=>({})})))},71008:(e,t,n)=>{n.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>l,Zp:()=>i,aR:()=>s,wL:()=>u});var o=n(90702),r=n(16606),a=n(79321);let i=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,o.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n),...r})});i.displayName="Card";let s=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,o.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",n),...r})});s.displayName="CardHeader";let l=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,o.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",n),...r})});l.displayName="CardTitle";let c=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,o.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",n),...r})});c.displayName="CardDescription";let d=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,o.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",n),...r})});d.displayName="CardContent";let u=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,o.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",n),...r})});u.displayName="CardFooter"},75491:(e,t,n)=>{n.d(t,{A:()=>o});let o=(0,n(85507).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},96922:(e,t,n)=>{n.d(t,{A:()=>o});let o=(0,n(85507).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])}}]);