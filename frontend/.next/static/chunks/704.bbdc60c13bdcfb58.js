"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[704],{19704:(e,s,r)=>{r.r(s),r.d(s,{default:()=>w});var t=r(90702),l=r(16606),a=r(39031),d=r(708),i=r(14285),n=r(6626),o=r(20597),c=r(75491),x=r(43466),u=r(65619),m=r(37744),h=r(1212),f=r(31553),p=r(97005),j=r(22821),b=r(79321);let v=e=>{let{className:s,...r}=e;return(0,t.jsx)(j.YZ,{className:(0,b.cn)("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",s),...r})},g=j.Zk,y=e=>{let{withHandle:s,className:r,...l}=e;return(0,t.jsx)(j.TW,{className:(0,b.cn)("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",r),...l,children:s&&(0,t.jsx)("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border",children:(0,t.jsx)(p.A,{className:"h-2.5 w-2.5"})})})};var N=r(47392);let w=l.memo(e=>{var s,r,p,j,b,w;let{cell:k,onExecute:C,onUpdate:_,onDelete:S}=e,[z,A]=(0,l.useState)(!1),[J,R]=(0,l.useState)(!1),[$,O]=(0,l.useState)(!1),[Z,D]=(0,l.useState)(!1),I="running"===k.status||"queued"===k.status,B=null===(s=k.result)||void 0===s?void 0:s.content,L=null===(r=k.result)||void 0===r?void 0:r.error;console.log("[PythonCell ".concat(k.id,"] Render with cell:"),JSON.stringify({id:k.id,type:k.type,status:k.status,has_result:!!k.result,result_content_type:typeof(null===(p=k.result)||void 0===p?void 0:p.content),result_content_keys:B?Object.keys(B):null,result_error:null===(j=k.result)||void 0===j?void 0:j.error,code_length:null===(b=k.content)||void 0===b?void 0:b.length}));let E=(e,s)=>{e&&navigator.clipboard.writeText(e).then(()=>{s(!0),setTimeout(()=>s(!1),2e3)},e=>{console.error("Could not copy text: ",e)})},F=null,P=null;if(B){if("string"==typeof B)try{F=JSON.parse(B)}catch(e){console.warn("[PythonCell ".concat(k.id,"] Failed to parse result string as JSON:"),e),F="error"===k.status?{status:"error",stderr:B}:{status:"success",stdout:B},P="Result was a string, not structured JSON."}else"object"==typeof B&&null!==B?F=B:(P="Unexpected result content type: ".concat(typeof B),console.error("[PythonCell ".concat(k.id,"] ").concat(P)))}else L&&(P="Cell execution failed: ".concat(L),F={status:"error",stderr:L});let T=k.content||"# No code provided";return(0,t.jsxs)("div",{className:"border rounded-md overflow-hidden mb-3 mx-8 bg-white",children:[(0,t.jsxs)("div",{className:"bg-sky-100 border-b border-sky-200 p-2 flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(a.A,{className:"h-4 w-4 mr-2 text-sky-700"}),(0,t.jsx)("span",{className:"font-medium text-sm text-sky-800",children:"Python Code"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-1.5",children:[(0,t.jsx)(u.Bc,{delayDuration:100,children:(0,t.jsxs)(u.m_,{children:[(0,t.jsx)(u.k$,{asChild:!0,children:(0,t.jsx)(x.$,{size:"sm",variant:"ghost",className:"text-gray-600 hover:bg-gray-200 h-7 w-7 px-0",onClick:()=>E(T,A),children:z?(0,t.jsx)(d.A,{className:"h-4 w-4 text-green-600"}):(0,t.jsx)(i.A,{className:"h-4 w-4"})})}),(0,t.jsx)(u.ZI,{children:(0,t.jsx)("p",{children:"Copy Code"})})]})}),(0,t.jsxs)(x.$,{size:"sm",variant:"outline",className:"bg-white hover:bg-sky-50 border-sky-300 h-7 px-2 text-xs",onClick:()=>C(k.id),disabled:I,children:[(0,t.jsx)(n.A,{className:"h-3.5 w-3.5 mr-1 text-sky-700"}),I?"Running...":"Run Code"]}),(0,t.jsx)(u.Bc,{delayDuration:100,children:(0,t.jsxs)(u.m_,{children:[(0,t.jsx)(u.k$,{asChild:!0,children:(0,t.jsx)(x.$,{size:"sm",variant:"ghost",className:"text-gray-500 hover:bg-red-100 hover:text-red-700 h-7 w-7 px-0",onClick:()=>S(k.id),disabled:I,children:(0,t.jsx)(o.A,{className:"h-4 w-4"})})}),(0,t.jsx)(u.ZI,{children:(0,t.jsx)("p",{children:"Delete Cell"})})]})})]})]}),(0,t.jsxs)(v,{direction:"vertical",className:"min-h-[150px]",children:[(0,t.jsx)(g,{defaultSize:50,minSize:20,children:(0,t.jsx)(f.F,{className:"h-full p-1 text-xs",children:(0,t.jsx)(m.A,{language:"python",style:h.A,customStyle:{margin:0,padding:"8px",fontSize:"0.8rem",backgroundColor:"#f8f9fa",borderRadius:"4px",height:"100%",overflow:"auto",boxSizing:"border-box"},showLineNumbers:!0,wrapLines:!0,lineNumberStyle:{color:"#adb5bd",fontSize:"0.75rem"},children:T})})}),(0,t.jsx)(y,{withHandle:!0}),(0,t.jsx)(g,{defaultSize:50,minSize:20,children:(0,t.jsxs)("div",{className:"h-full flex flex-col",children:[(0,t.jsx)("div",{className:"flex justify-between items-center p-1.5 border-b bg-gray-50",children:(0,t.jsx)("span",{className:"text-xs font-medium text-gray-700",children:"Output"})}),(0,t.jsxs)(f.F,{className:"flex-grow p-2 text-xs overflow-auto",children:["running"===k.status&&(0,t.jsxs)("div",{className:"flex items-center text-xs text-amber-600 mb-2",children:[(0,t.jsx)("div",{className:"animate-spin h-3 w-3 border-2 border-amber-600 rounded-full border-t-transparent mr-1.5"}),"Executing code..."]}),"queued"===k.status&&(0,t.jsxs)("div",{className:"flex items-center text-xs text-blue-600 mb-2",children:[(0,t.jsx)("div",{className:"h-3 w-3 bg-blue-600 rounded-full mr-1.5 animate-pulse"}),"Queued for execution..."]}),"stale"===k.status&&(0,t.jsxs)("div",{className:"flex items-center text-xs text-gray-600 mb-2",children:[(0,t.jsx)("div",{className:"h-3 w-3 border border-gray-600 rounded-full mr-1.5"}),"Stale (needs re-run)..."]}),P&&(0,t.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-1.5 mb-2 text-yellow-800 text-xs",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(c.A,{className:"h-3.5 w-3.5 mr-1 flex-shrink-0"}),(0,t.jsx)("span",{className:"font-medium",children:"Result Parsing Issue:"})]}),(0,t.jsx)("div",{className:"ml-5 mt-0.5",children:P})]}),L&&!(null==F?void 0:F.stderr)&&(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded p-1.5 mb-2 text-red-700 text-xs",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(c.A,{className:"h-3.5 w-3.5 mr-1 flex-shrink-0"}),(0,t.jsx)("span",{className:"font-medium",children:"Cell Execution Error:"})]}),(0,t.jsx)("pre",{className:"whitespace-pre-wrap font-mono text-xs mt-1 ml-5",children:L})]}),F&&(0,t.jsxs)("div",{className:"space-y-3",children:[F.stdout&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-0.5",children:[(0,t.jsx)(N.J,{className:"text-xs text-gray-600 font-medium",children:"stdout"}),(0,t.jsx)(u.Bc,{delayDuration:100,children:(0,t.jsxs)(u.m_,{children:[(0,t.jsx)(u.k$,{asChild:!0,children:(0,t.jsx)(x.$,{variant:"ghost",size:"icon",className:"h-5 w-5 text-gray-500 hover:bg-gray-100",onClick:()=>E(null==F?void 0:F.stdout,R),children:J?(0,t.jsx)(d.A,{className:"h-3 w-3 text-green-600"}):(0,t.jsx)(i.A,{className:"h-3 w-3"})})}),(0,t.jsx)(u.ZI,{children:(0,t.jsx)("p",{children:"Copy stdout"})})]})})]}),(0,t.jsx)("pre",{className:"whitespace-pre-wrap font-mono text-xs bg-gray-50 p-1.5 rounded border border-gray-200 max-h-40 overflow-y-auto",children:F.stdout})]}),F.stderr&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-0.5",children:[(0,t.jsx)(N.J,{className:"text-xs text-red-700 font-medium",children:"stderr"}),(0,t.jsx)(u.Bc,{delayDuration:100,children:(0,t.jsxs)(u.m_,{children:[(0,t.jsx)(u.k$,{asChild:!0,children:(0,t.jsx)(x.$,{variant:"ghost",size:"icon",className:"h-5 w-5 text-gray-500 hover:bg-gray-100",onClick:()=>E(null==F?void 0:F.stderr,O),children:$?(0,t.jsx)(d.A,{className:"h-3 w-3 text-green-600"}):(0,t.jsx)(i.A,{className:"h-3 w-3"})})}),(0,t.jsx)(u.ZI,{children:(0,t.jsx)("p",{children:"Copy stderr"})})]})})]}),(0,t.jsx)("pre",{className:"whitespace-pre-wrap font-mono text-xs bg-red-50 p-1.5 rounded border border-red-200 text-red-800 max-h-40 overflow-y-auto",children:F.stderr})]}),void 0!==F.return_value&&null!==F.return_value&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-0.5",children:[(0,t.jsx)(N.J,{className:"text-xs text-gray-600 font-medium",children:"Return Value"}),(0,t.jsx)(u.Bc,{delayDuration:100,children:(0,t.jsxs)(u.m_,{children:[(0,t.jsx)(u.k$,{asChild:!0,children:(0,t.jsx)(x.$,{variant:"ghost",size:"icon",className:"h-5 w-5 text-gray-500 hover:bg-gray-100",onClick:()=>E(JSON.stringify(null==F?void 0:F.return_value,null,2),D),children:Z?(0,t.jsx)(d.A,{className:"h-3 w-3 text-green-600"}):(0,t.jsx)(i.A,{className:"h-3 w-3"})})}),(0,t.jsx)(u.ZI,{children:(0,t.jsx)("p",{children:"Copy Return Value (JSON)"})})]})})]}),(0,t.jsx)("pre",{className:"whitespace-pre-wrap font-mono text-xs bg-gray-50 p-1.5 rounded border border-gray-200 max-h-40 overflow-y-auto",children:"object"==typeof F.return_value?JSON.stringify(F.return_value,null,2):String(F.return_value)})]}),"error"===F.status&&(null===(w=F.error_details)||void 0===w?void 0:w.traceback)&&(0,t.jsxs)("div",{children:[(0,t.jsx)(N.J,{className:"text-xs text-red-700 font-medium",children:"Traceback"}),(0,t.jsx)("pre",{className:"whitespace-pre-wrap font-mono text-xs bg-red-50 p-1.5 rounded border border-red-200 text-red-800 mt-0.5 max-h-60 overflow-y-auto",children:F.error_details.traceback})]}),F.dependencies&&F.dependencies.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)(N.J,{className:"text-xs text-gray-600 font-medium",children:"Dependencies Used"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mt-0.5",children:F.dependencies.map(e=>(0,t.jsx)("span",{className:"text-xs bg-gray-100 text-gray-700 px-1.5 py-0.5 rounded border",children:e},e))})]})]}),!I&&!F&&!P&&!L&&(0,t.jsx)("div",{className:"text-xs text-gray-500 italic",children:"No output received yet."})]})]})})]})]})})},31553:(e,s,r)=>{r.d(s,{F:()=>i});var t=r(90702),l=r(16606),a=r(67154),d=r(79321);let i=l.forwardRef((e,s)=>{let{className:r,children:l,...i}=e;return(0,t.jsxs)(a.bL,{ref:s,className:(0,d.cn)("relative overflow-hidden",r),...i,children:[(0,t.jsx)(a.LM,{className:"h-full w-full rounded-[inherit]",children:l}),(0,t.jsx)(n,{}),(0,t.jsx)(a.OK,{})]})});i.displayName=a.bL.displayName;let n=l.forwardRef((e,s)=>{let{className:r,orientation:l="vertical",...i}=e;return(0,t.jsx)(a.VM,{ref:s,orientation:l,className:(0,d.cn)("flex touch-none select-none transition-colors","vertical"===l&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===l&&"h-2.5 border-t border-t-transparent p-[1px]",r),...i,children:(0,t.jsx)(a.lr,{className:"relative flex-1 rounded-full bg-border"})})});n.displayName=a.VM.displayName},47392:(e,s,r)=>{r.d(s,{J:()=>o});var t=r(90702),l=r(16606),a=r(58522),d=r(13490),i=r(79321);let n=(0,d.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=l.forwardRef((e,s)=>{let{className:r,...l}=e;return(0,t.jsx)(a.b,{ref:s,className:(0,i.cn)(n(),r),...l})});o.displayName=a.b.displayName},65619:(e,s,r)=>{r.d(s,{Bc:()=>i,ZI:()=>c,k$:()=>o,m_:()=>n});var t=r(90702),l=r(16606),a=r(68857),d=r(79321);let i=a.Kq,n=a.bL,o=a.l9,c=l.forwardRef((e,s)=>{let{className:r,sideOffset:l=4,...i}=e;return(0,t.jsx)(a.UC,{ref:s,sideOffset:l,className:(0,d.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...i})});c.displayName=a.UC.displayName}}]);