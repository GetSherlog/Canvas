"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[216],{708:(e,t,r)=>{r.d(t,{A:()=>s});let s=(0,r(85507).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},14285:(e,t,r)=>{r.d(t,{A:()=>s});let s=(0,r(85507).A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},17059:(e,t,r)=>{r.d(t,{E:()=>i});var s=r(90702),a=r(13490),n=r(79321);let l=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:r,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)(l({variant:r}),t),...a})}},58522:(e,t,r)=>{r.d(t,{b:()=>i});var s=r(16606),a=r(93925),n=r(90702),l=s.forwardRef((e,t)=>(0,n.jsx)(a.sG.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null===(r=e.onMouseDown)||void 0===r||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var i=l},66163:(e,t,r)=>{r.r(t),r.d(t,{default:()=>R});var s=r(90702),a=r(16606),n=r(7433),l=r(708),i=r(14285),o=r(786),c=r(74508),d=r(85507);let x=(0,d.A)("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]),m=(0,d.A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var h=r(37503),p=r(50738),u=r(6626),g=r(20597),f=r(43466),j=r(71008),b=r(17059),y=r(57530),N=r(47392),v=r(31748),w=r(12390),_=r(10964),k=r(65619),A=r(51211),E=r(37744),S=r(26661),C=r(33771);let R=a.memo(e=>{var t,r,d,R;let{cell:q,onExecute:z,onUpdate:D,onDelete:O,isExecuting:H}=e;if(console.log("[GitHubCell ".concat(q.id,"] Render with cell prop:"),JSON.stringify({id:q.id,type:q.type,status:q.status,tool_name:q.tool_name,has_result:!!q.result,result_content_type:typeof(null===(t=q.result)||void 0===t?void 0:t.content),result_error:null===(r=q.result)||void 0===r?void 0:r.error})),null===(d=q.result)||void 0===d?void 0:d.error)return console.log("[GitHubCell ".concat(q.id,"] Backend error detected. Skipping render. Error:"),q.result.error),null;let[J,P]=(0,a.useState)(!1),[$,G]=(0,a.useState)([{toolName:"",toolArgs:{}}]),[I,F]=(0,a.useState)(0),[T,B]=(0,a.useState)(!0),[L,W]=(0,a.useState)({});(0,C.d)(e=>e.toolDefinitions.github),(0,C.d)(e=>e.toolLoadingStatus.github),(0,a.useEffect)(()=>{let e=q.tool_name,t=q.tool_arguments;e&&t?(console.log("[GitHubCell ".concat(q.id,"] useEffect [id changed]: Initializing/Resetting form state from props.")),G([{toolName:e,toolArgs:{...t}}])):(console.warn("[GitHubCell ".concat(q.id,"] useEffect [id changed]: Tool info missing in cell prop, setting empty state.")),G([{toolName:"",toolArgs:{}}])),F(0)},[q.id]);let Z=e=>{if(!e)return"";try{let t=new Date(e);if(isNaN(t.getTime()))return"Invalid Date";return t.toLocaleString()}catch(t){return console.error("Error formatting date:",e,t),"Invalid Date"}},M=e=>{var t;switch(null===(t=e.split(".").pop())||void 0===t?void 0:t.toLowerCase()){case"js":case"jsx":return"javascript";case"ts":case"tsx":return"typescript";case"py":return"python";case"java":return"java";case"kt":case"kts":return"kotlin";case"swift":return"swift";case"cpp":case"cxx":case"cc":case"hpp":case"hxx":case"hh":return"cpp";case"c":case"h":return"c";case"json":return"json";case"md":return"markdown";case"rb":return"ruby";case"go":return"go";case"php":return"php";case"html":return"html";case"css":return"css";case"sh":case"bash":return"bash";case"diff":return"diff";default:return}},U=(e,t)=>{navigator.clipboard.writeText(e).then(()=>{W(e=>({...e,[t]:!0})),setTimeout(()=>W(e=>({...e,[t]:!1})),2e3)},e=>{console.error("Could not copy text: ",e)})},V=(e,t,r)=>{let s=[...$];"__raw_json__"===t?s[e]={...s[e],toolArgs:r}:s[e]={...s[e],toolArgs:{...s[e].toolArgs,[t]:r}},G(s)},Y=(e,t,r)=>e?("user-".concat(q.id,"-").concat(e.login),(0,s.jsxs)("div",{className:"flex items-center space-x-1.5 text-xs text-gray-600",children:[(0,s.jsx)(k.Bc,{delayDuration:100,children:(0,s.jsxs)(k.m_,{children:[(0,s.jsx)(k.k$,{asChild:!0,children:(0,s.jsxs)("a",{href:e.html_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center",children:[e.avatar_url&&(0,s.jsx)("img",{src:e.avatar_url,alt:e.login,className:"h-4 w-4 rounded-full inline-block mr-1"}),(0,s.jsx)("span",{className:"font-medium text-gray-800 hover:underline",children:e.login})]})}),(0,s.jsx)(k.ZI,{children:(0,s.jsxs)("p",{children:[e.type,": ",e.login]})})]})}),r&&(0,s.jsx)("span",{children:r}),t&&(0,s.jsxs)("span",{children:["on ",Z(t)]})]})):null,Q=e=>e&&0!==e.length?(0,s.jsx)("div",{className:"flex flex-wrap gap-1 mt-1.5",children:e.map(e=>(0,s.jsx)(b.E,{variant:"outline",className:"text-xs px-1.5 py-0.5 font-normal border",style:{backgroundColor:"#".concat(e.color),color:K("#".concat(e.color))?"#ffffff":"#000000",borderColor:"#".concat(e.color)},children:e.name},e.id))}):null,K=e=>{try{let t=e.substring(1),r=parseInt(t.substring(0,2),16),s=parseInt(t.substring(2,4),16),a=parseInt(t.substring(4,6),16);return 127.5>Math.sqrt(r*r*.299+s*s*.587+a*a*.114)}catch(e){return!1}};return(0,s.jsxs)("div",{className:"border rounded-md overflow-hidden mb-3 mx-8",children:[(0,s.jsxs)("div",{className:"bg-green-100 border-b border-green-200 p-2 flex justify-between items-center",children:[(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)("span",{className:"font-medium text-sm text-green-800",children:q.content||"GitHub Tool"})}),(0,s.jsxs)("div",{className:"flex items-center space-x-1.5",children:[(0,s.jsxs)(f.$,{size:"sm",variant:"outline",className:"bg-white hover:bg-green-50 border-green-300 h-7 px-2 text-xs",onClick:()=>{let e=$[I];e&&D(q.id,q.content,{toolName:e.toolName,toolArgs:e.toolArgs}),z(q.id)},disabled:H||0===$.length,children:[(0,s.jsx)(u.A,{className:"h-3.5 w-3.5 mr-1 text-green-700"}),H?"Running...":"Run Tool"]}),(0,s.jsx)(k.Bc,{delayDuration:100,children:(0,s.jsxs)(k.m_,{children:[(0,s.jsx)(k.k$,{asChild:!0,children:(0,s.jsx)(f.$,{size:"sm",variant:"ghost",className:"text-gray-500 hover:bg-red-100 hover:text-red-700 h-7 w-7 px-0",onClick:()=>O(q.id),disabled:H,children:(0,s.jsx)(g.A,{className:"h-4 w-4"})})}),(0,s.jsx)(k.ZI,{children:(0,s.jsx)("p",{children:"Delete Cell"})})]})})]})]}),(0,s.jsxs)("div",{className:"p-3",children:[(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)(j.Zp,{className:"border-green-200",children:(0,s.jsxs)(j.Wu,{className:"p-3",children:[(()=>{if(!$||0===$.length||!$[0].toolName){let e=q.tool_name;return e?(0,s.jsx)("div",{className:"flex items-center mb-2 border-b pb-1.5",children:(0,s.jsxs)("span",{className:"px-3 py-1.5 text-sm font-medium text-green-700",children:["Tool: ",e]})}):(0,s.jsx)("div",{className:"h-10"})}return(0,s.jsx)("div",{className:"flex items-center mb-2 border-b pb-1.5",children:(0,s.jsxs)("span",{className:"px-3 py-1.5 text-sm font-medium text-green-700",children:["Tool: ",$[0].toolName]})})})(),$[0]&&(0,s.jsx)(_.nD,{type:"single",collapsible:!0,className:"w-full",children:(0,s.jsxs)(_.As,{value:"tool-args",className:"border-b-0",children:[" ",(0,s.jsx)(_.$m,{className:"text-xs font-medium py-2 hover:no-underline",children:"Tool Arguments"}),(0,s.jsx)(_.ub,{className:"pt-2",children:(e=>{let{toolName:t,toolArgs:r}=e,a=(0,C.d)(e=>e.toolLoadingStatus.github),n=(0,C.d)(e=>e.toolDefinitions.github);console.log("[GitHubCell] Rendering inputs for: ".concat(t)),console.log("[GitHubCell] GitHub Tool loading status from store:",a),console.log("[GitHubCell] Available GitHub tool definitions from store:",n);let l=null==n?void 0:n.find(e=>e.name===t);if(console.log("[GitHubCell] Found toolInfo:",l),void 0===a||"idle"===a)return(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"Initializing tool definitions..."});if("loading"===a)return(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"Loading tool parameters..."});if("error"===a)return(0,s.jsx)("div",{className:"text-xs text-red-500\\",children:"Error loading tool definitions from store."});if("success"===a&&!l)return(0,s.jsxs)("div",{className:"text-xs text-red-500\\",children:["Tool definition not found for: ",t]});if(!l)return(0,s.jsxs)("div",{className:"text-xs text-red-500\\",children:["Tool definition unavailable for: ",t,". Status: ",a]});let i=l.inputSchema,o=null==i?void 0:i.properties,c=new Set((null==i?void 0:i.required)||[]);if(!o||0===Object.keys(o).length)return(0,s.jsx)("div",{className:"text-xs text-gray-600 mb-3",children:"This tool requires no arguments."});let d=(e,t)=>{var a,n,l;let i="".concat(e,"-").concat(I),o=t.title||e,d=c.has(e),x=t.description,m=(null===(a=t.examples)||void 0===a?void 0:a[0])||t.description||"Enter ".concat(o),h=null!==(l=null!==(n=r[e])&&void 0!==n?n:t.default)&&void 0!==l?l:"",p=null,u=t.type,g=t.format,f=t.enum;return p=f&&Array.isArray(f)?(0,s.jsxs)(w.l6,{value:h,onValueChange:t=>V(I,e,t),required:d,children:[(0,s.jsx)(w.bq,{id:i,className:"mt-1 h-8 text-xs",children:(0,s.jsx)(w.yv,{placeholder:m})}),(0,s.jsx)(w.gC,{children:f.map(e=>(0,s.jsx)(w.eb,{value:e,children:e},e))})]}):"string"===u&&("textarea"===g||x&&x.length>50)?(0,s.jsx)(v.T,{id:i,value:h,onChange:t=>V(I,e,t.target.value),placeholder:m,required:d,className:"mt-1 h-16 text-xs"}):"number"===u||"integer"===u?(0,s.jsx)(y.p,{id:i,type:"number",value:h,onChange:t=>V(I,e,""===t.target.value?"":Number(t.target.value)),placeholder:m,required:d,min:t.minimum,max:t.maximum,step:t.multipleOf||"any",className:"mt-1 h-8 text-xs"}):"boolean"===u?(0,s.jsx)("div",{className:"flex items-center space-x-2 mt-1 h-8",children:(0,s.jsx)("input",{type:"checkbox",id:i,checked:!!h,onChange:t=>V(I,e,t.target.checked),className:"h-4 w-4 text-green-600 border-gray-300 rounded focus:ring-green-500"})}):(0,s.jsx)(y.p,{id:i,type:"text",value:h,onChange:t=>V(I,e,t.target.value),placeholder:m,required:d,className:"mt-1 h-8 text-xs"}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsxs)(N.J,{htmlFor:i,className:"text-xs text-gray-700",children:[o," ",d&&(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),p,x&&(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:x})]},i)};return(0,s.jsx)("div",{className:"space-y-2",children:Object.entries(o).map(e=>{let[t,r]=e;return d(t,r)})})})($[0])})]})})]})})}),"running"===q.status&&(0,s.jsxs)("div",{className:"flex items-center text-xs text-amber-600 mb-3",children:[(0,s.jsx)("div",{className:"animate-spin h-3 w-3 border-2 border-amber-600 rounded-full border-t-transparent mr-1.5"}),"Executing tool..."]}),"queued"===q.status&&(0,s.jsxs)("div",{className:"flex items-center text-xs text-blue-600 mb-3",children:[(0,s.jsx)("div",{className:"h-3 w-3 bg-blue-600 rounded-full mr-1.5 animate-pulse"}),"Queued for execution..."]}),"stale"===q.status&&(0,s.jsxs)("div",{className:"flex items-center text-xs text-gray-600 mb-3",children:[(0,s.jsx)("div",{className:"h-3 w-3 border border-gray-600 rounded-full mr-1.5"}),"Stale (needs re-run)..."]}),"error"===q.status&&(null===(R=q.result)||void 0===R?void 0:R.error)&&(0,s.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded p-2 mb-3 text-red-700",children:[(0,s.jsx)("div",{className:"font-medium text-xs",children:"Execution Error:"}),(0,s.jsx)("div",{className:"text-xs mt-0.5",children:q.result.error})]}),"queued"!==q.status&&"running"!==q.status&&q.result&&(0,s.jsx)("div",{children:(()=>{var e,t,r,d,u,g,y,N,v,w,C,R,z,D,O,H,J,P,$,G,I,F,W,V;let K;let X=q.result,ee=q.tool_name;if(console.log("[GitHubCell ".concat(q.id,"] renderResultData called. toolName: ").concat(ee,", has toolResult: ").concat(!!X)),X&&console.log("[GitHubCell ".concat(q.id,"] toolResult details:"),JSON.stringify({has_content:!!X.content,content_type:typeof X.content,has_error:!!X.error,error_content:X.error})),!X)return console.log("[GitHubCell ".concat(q.id,"] renderResultData: No toolResult found, returning null.")),null;let et=e=>{var t,r,s;return(null==e?void 0:null===(t=e.content)||void 0===t?void 0:t.content)&&Array.isArray(e.content.content)&&(null===(r=e.content.content[0])||void 0===r?void 0:r.text)?e.content.content[0].text:"string"==typeof(null==e?void 0:e.content)?e.content:Array.isArray(null==e?void 0:e.content)&&(null===(s=e.content[0])||void 0===s?void 0:s.text)?(console.warn("Accessing result content via potentially legacy path: result.content[0].text"),e.content[0].text):null},er=e=>{var t;let r=et(e);return r||((null==e?void 0:null===(t=e.content)||void 0===t?void 0:t.content)?e.content.content:(null==e?void 0:e.content)?e.content:"Unable to extract raw content.")};if("get_commit"===ee&&!X.error&&X.content)try{let e=et(X);if(e){let t=JSON.parse(e);(null==t?void 0:t.sha)&&(K=t.sha.substring(0,7))}else{let e=X.content;(null==e?void 0:e.sha)&&(K=e.sha.substring(0,7))}}catch(e){console.error("Error parsing SHA from get_commit result:",e)}let es=null;if("get_commit"===ee&&!X.error&&X.content)try{let a;let c=et(X);if(c)a=JSON.parse(c);else{if("object"==typeof X.content&&null!==X.content)console.warn("[get_commit] Parsing direct object content."),a=X.content;else throw Error("Commit data is not in expected format (JSON string or object).");if("object"!=typeof a||null===a||!a.sha)throw Error("Direct content is not a valid commit object.")}let x=a.sha.substring(0,7),m="commit-".concat(q.id);es=(0,s.jsxs)("div",{className:"space-y-3 text-xs",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-base font-semibold mb-1",children:(null===(t=a.commit)||void 0===t?void 0:null===(e=t.message)||void 0===e?void 0:e.split("\\n")[0])||"No commit message"}),(0,s.jsxs)("div",{className:"text-xs text-gray-600 flex items-center space-x-2 flex-wrap",children:[(null===(r=a.commit)||void 0===r?void 0:r.author)&&(0,s.jsx)(k.Bc,{delayDuration:100,children:(0,s.jsxs)(k.m_,{children:[(0,s.jsx)(k.k$,{asChild:!0,children:(0,s.jsx)("img",{src:null===(d=a.author)||void 0===d?void 0:d.avatar_url,alt:a.commit.author.name||"Author",className:"h-4 w-4 rounded-full inline-block mr-1"})}),(0,s.jsx)(k.ZI,{children:(0,s.jsxs)("p",{children:[a.commit.author.name||"N/A"," (",a.commit.author.email||"N/A",")"]})})]})}),(null===(g=a.commit)||void 0===g?void 0:null===(u=g.author)||void 0===u?void 0:u.date)&&(0,s.jsxs)("span",{children:["authored on ",Z(a.commit.author.date)]}),(null===(y=a.author)||void 0===y?void 0:y.login)&&(0,s.jsxs)("a",{href:a.author.html_url,target:"_blank",rel:"noopener noreferrer",className:"hover:underline text-blue-600",children:["(",a.author.login,")"]}),(null===(N=a.commit)||void 0===N?void 0:N.committer)&&(null===(v=a.author)||void 0===v?void 0:v.login)!==(null===(w=a.committer)||void 0===w?void 0:w.login)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"hidden md:inline",children:"|"}),(0,s.jsx)(k.Bc,{delayDuration:100,children:(0,s.jsxs)(k.m_,{children:[(0,s.jsx)(k.k$,{asChild:!0,children:(0,s.jsx)("img",{src:null===(C=a.committer)||void 0===C?void 0:C.avatar_url,alt:a.commit.committer.name||"Committer",className:"h-4 w-4 rounded-full inline-block mr-1"})}),(0,s.jsx)(k.ZI,{children:(0,s.jsxs)("p",{children:[a.commit.committer.name||"N/A"," (",a.commit.committer.email||"N/A",")"]})})]})}),a.commit.committer.date&&(0,s.jsxs)("span",{children:["committed on ",Z(a.commit.committer.date)]}),(null===(R=a.committer)||void 0===R?void 0:R.login)&&(0,s.jsxs)("a",{href:a.committer.html_url,target:"_blank",rel:"noopener noreferrer",className:"hover:underline text-blue-600",children:["(",a.committer.login,")"]})]})]}),(null===(D=a.commit)||void 0===D?void 0:null===(z=D.message)||void 0===z?void 0:z.includes("\\n"))&&(0,s.jsx)("pre",{className:"mt-1.5 text-xs whitespace-pre-wrap font-sans bg-gray-50 p-1.5 rounded border",children:a.commit.message.substring(a.commit.message.indexOf("\\n")+1)})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1 flex-shrink-0 ml-3",children:[(0,s.jsx)(k.Bc,{delayDuration:100,children:(0,s.jsxs)(k.m_,{children:[(0,s.jsx)(k.k$,{asChild:!0,children:(0,s.jsxs)(f.$,{variant:"outline",size:"sm",onClick:()=>U(a.sha,m),className:"font-mono text-xs h-auto px-1.5 py-0.5",children:[(0,s.jsx)(n.A,{className:"h-3 w-3 mr-1"})," ",x,L[m]?(0,s.jsx)(l.A,{className:"h-3 w-3 ml-1 text-green-600"}):(0,s.jsx)(i.A,{className:"h-3 w-3 ml-1"})]})}),(0,s.jsx)(k.ZI,{children:(0,s.jsxs)("p",{children:["Copy full SHA: ",a.sha]})})]})}),(0,s.jsx)("a",{href:a.html_url,target:"_blank",rel:"noopener noreferrer",children:(0,s.jsxs)(f.$,{variant:"outline",size:"sm",className:"text-xs h-auto px-1.5 py-0.5",children:[(0,s.jsx)(o.A,{className:"h-3 w-3 mr-1"})," GitHub"]})})]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center text-xs text-gray-700 flex-wrap gap-y-1",children:[(0,s.jsx)("div",{className:"flex items-center space-x-1 flex-wrap gap-y-1",children:a.stats&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(b.E,{variant:"outline",className:"border-green-300 text-green-700 whitespace-nowrap px-1.5 py-0.5 text-xs",children:["+",a.stats.additions," additions"]}),(0,s.jsxs)(b.E,{variant:"outline",className:"border-red-300 text-red-700 whitespace-nowrap px-1.5 py-0.5 text-xs",children:["-",a.stats.deletions," deletions"]}),(0,s.jsxs)(b.E,{variant:"secondary",className:"whitespace-nowrap px-1.5 py-0.5 text-xs",children:[(null===(O=a.files)||void 0===O?void 0:O.length)||0," changed files"]})]})}),a.parents&&a.parents.length>0&&(0,s.jsxs)("div",{className:"flex items-center space-x-1 flex-wrap gap-x-1",children:[(0,s.jsx)("span",{children:"Parents:"}),a.parents.map(e=>(0,s.jsx)("a",{href:e.html_url,target:"_blank",rel:"noopener noreferrer",className:"font-mono text-blue-600 hover:underline",children:e.sha.substring(0,7)},e.sha))]})]}),a.files&&a.files.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("h5",{className:"text-xs font-medium mb-1.5",children:[a.files.length," changed files:"]}),(0,s.jsx)(_.nD,{type:"single",collapsible:!0,className:"w-full border rounded-md",children:a.files.map((e,t)=>{let r="file-".concat(q.id,"-").concat(t);return e?(0,s.jsxs)(_.As,{value:"item-".concat(t),children:[(0,s.jsx)(_.$m,{className:"text-xs px-2 py-1.5 hover:bg-gray-50",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center w-full gap-1",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-1.5 truncate mr-4 flex-shrink min-w-0",children:[(0,s.jsx)(b.E,{variant:"removed"===e.status?"destructive":"outline",className:"text-xs px-1 py-0 leading-tight flex-shrink-0\n                                                                ".concat("added"===e.status?"border-green-300 text-green-700 bg-green-50":"","\n                                                                ").concat("modified"===e.status?"border-blue-300 text-blue-700 bg-blue-50":"","\n                                                                ").concat("removed"===e.status?"border-red-300":"","\n                                                                ").concat("renamed"===e.status?"border-yellow-300 text-yellow-700 bg-yellow-50":"","\n                                                                ").concat(["added","modified","removed","renamed"].includes(e.status)?"":"border-gray-300 text-gray-700 bg-gray-50","\n                                                                "),children:e.status}),(0,s.jsx)("span",{className:"font-mono truncate text-xs",title:e.filename,children:e.filename})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1.5 flex-shrink-0 pl-6 md:pl-0",children:[(0,s.jsxs)("span",{className:"text-green-600 text-xs",children:["+",e.additions]}),(0,s.jsxs)("span",{className:"text-red-600 text-xs",children:["-",e.deletions]}),(0,s.jsx)(k.Bc,{delayDuration:100,children:(0,s.jsxs)(k.m_,{children:[(0,s.jsx)(k.k$,{asChild:!0,children:(0,s.jsx)(f.$,{variant:"ghost",size:"icon",onClick:t=>{t.stopPropagation(),U(e.patch||"No patch available",r)},className:"ml-1 h-5 w-5",children:L[r]?(0,s.jsx)(l.A,{className:"h-3 w-3 text-green-600"}):(0,s.jsx)(i.A,{className:"h-3 w-3"})})}),(0,s.jsx)(k.ZI,{children:(0,s.jsx)("p",{children:"Copy patch"})})]})}),e.blob_url&&(0,s.jsx)("a",{href:e.blob_url,target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation(),children:(0,s.jsx)(f.$,{variant:"ghost",size:"icon",className:"ml-1 h-5 w-5",children:(0,s.jsx)(o.A,{className:"h-3 w-3"})})})]})]})}),(0,s.jsx)(_.ub,{className:"px-0 pb-0",children:e.patch?(0,s.jsx)("div",{className:"text-xs bg-gray-50 border-t overflow-x-auto max-h-80 font-mono",children:e.patch.split("\\n").map((t,r)=>{let a={whiteSpace:"pre-wrap",display:"block",paddingLeft:"0.5rem",paddingRight:"0.5rem"},n=t,l="",i=M(e.filename)||"diff";t.startsWith("+")?(a.backgroundColor="rgba(217, 249, 157, 0.4)",n=t.substring(1),l="+ "):t.startsWith("-")?(a.backgroundColor="rgba(254, 202, 202, 0.4)",n=t.substring(1),l="- "):t.startsWith("@@")?(a.backgroundColor="#e5e7eb",a.color="#4b5563",n=t,l=""):(n=t.startsWith(" ")?t.substring(1):t,l="  ");let o=!t.startsWith("@@")&&n.trim().length>0;return(0,s.jsxs)("div",{style:a,className:"flex",children:[(0,s.jsx)("span",{className:"w-6 flex-shrink-0 text-right pr-2 text-gray-400",children:l}),(0,s.jsx)("div",{className:"flex-grow",children:o?(0,s.jsx)(E.A,{language:i,style:S.A,customStyle:{background:"transparent",padding:0,margin:0,overflow:"visible",whiteSpace:"pre-wrap",wordBreak:"break-all"},wrapLines:!0,lineProps:{style:{display:"block"}},children:n}):(0,s.jsx)("span",{style:{color:a.color},children:n})})]},r)})}):(0,s.jsx)("div",{className:"text-xs p-2 text-gray-500 italic border-t",children:"Patch not available."})})]},e.sha||t):null})})]})]})}catch(t){console.error("Error parsing or rendering get_commit result:",t);let e=er(X);es=(0,s.jsxs)("div",{className:"text-red-700 text-xs",children:[(0,s.jsx)("p",{className:"font-medium mb-1",children:"Error rendering commit details:"}),(0,s.jsx)("pre",{className:"whitespace-pre-wrap text-xs font-mono bg-gray-50 p-1.5 rounded border border-gray-200",children:String(t)}),(0,s.jsx)("p",{className:"font-medium mt-1.5 mb-1",children:"Raw Result Content:"}),(0,s.jsx)("pre",{className:"whitespace-pre-wrap text-xs font-mono bg-gray-50 p-1.5 rounded border border-gray-200",children:e})]})}else if("list_commits"===ee&&!X.error&&X.content)try{let e;let t=et(X);if(t)e=JSON.parse(t);else if(Array.isArray(X.content))console.warn("[list_commits] Parsing direct array content."),e=X.content;else throw Error("Commit list data is not in expected format (JSON string or array).");if(!Array.isArray(e))throw Error("Expected an array of commits.");es=0===e.length?(0,s.jsx)("p",{className:"text-xs text-gray-600",children:"No commits found for the specified criteria."}):(0,s.jsx)("div",{className:"space-y-3",children:e.map((e,t)=>{var r,a,c,d,x,m,h,p,u,g,j,b,y,N;let v="commit-".concat(q.id,"-").concat(t),w=(null===(r=e.sha)||void 0===r?void 0:r.substring(0,7))||"N/A",_=(null===(c=e.commit)||void 0===c?void 0:null===(a=c.message)||void 0===a?void 0:a.split("\\n")[0])||"No commit message",A=e.author;e.committer;let E=null===(x=e.commit)||void 0===x?void 0:null===(d=x.author)||void 0===d?void 0:d.date;return(0,s.jsxs)("div",{className:"border-b border-gray-200 pb-2.5 last:border-b-0 last:pb-0",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium truncate mr-2 flex-grow",title:(null===(m=e.commit)||void 0===m?void 0:m.message)||"",children:_}),(0,s.jsxs)("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[(0,s.jsx)(k.Bc,{delayDuration:100,children:(0,s.jsxs)(k.m_,{children:[(0,s.jsx)(k.k$,{asChild:!0,children:(0,s.jsxs)(f.$,{variant:"outline",size:"sm",onClick:()=>U(e.sha,v),className:"font-mono text-xs h-auto px-1.5 py-0.5",children:[(0,s.jsx)(n.A,{className:"h-3 w-3 mr-1"})," ",w,L[v]?(0,s.jsx)(l.A,{className:"h-3 w-3 ml-1 text-green-600"}):(0,s.jsx)(i.A,{className:"h-3 w-3 ml-1"})]})}),(0,s.jsx)(k.ZI,{children:(0,s.jsxs)("p",{children:["Copy full SHA: ",e.sha]})})]})}),(0,s.jsx)("a",{href:e.html_url,target:"_blank",rel:"noopener noreferrer",children:(0,s.jsxs)(f.$,{variant:"outline",size:"sm",className:"text-xs h-auto px-1.5 py-0.5",children:[(0,s.jsx)(o.A,{className:"h-3 w-3 mr-1"})," GitHub"]})})]})]}),(0,s.jsxs)("div",{className:"text-xs text-gray-600 flex items-center space-x-1 flex-wrap",children:[A&&(0,s.jsx)(k.Bc,{delayDuration:100,children:(0,s.jsxs)(k.m_,{children:[(0,s.jsx)(k.k$,{asChild:!0,children:(0,s.jsx)("img",{src:A.avatar_url,alt:(null===(p=e.commit)||void 0===p?void 0:null===(h=p.author)||void 0===h?void 0:h.name)||A.login||"Author",className:"h-4 w-4 rounded-full inline-block"})}),(0,s.jsxs)(k.ZI,{children:[(0,s.jsxs)("p",{children:[(null===(g=e.commit)||void 0===g?void 0:null===(u=g.author)||void 0===u?void 0:u.name)||"N/A"," (",(null===(b=e.commit)||void 0===b?void 0:null===(j=b.author)||void 0===j?void 0:j.email)||"N/A",")"]}),A.login&&(0,s.jsxs)("p",{children:["GitHub: ",A.login]})]})]})}),(0,s.jsx)("span",{children:(null===(N=e.commit)||void 0===N?void 0:null===(y=N.author)||void 0===y?void 0:y.name)||(null==A?void 0:A.login)||"Unknown author"}),(0,s.jsxs)("span",{children:["authored on ",Z(E)]})]})]},e.sha||t)})})}catch(t){console.error("Error parsing or rendering list_commits result:",t);let e=er(X);es=(0,s.jsxs)("div",{className:"text-red-700 text-xs",children:[(0,s.jsx)("p",{className:"font-medium mb-1",children:"Error rendering commit list:"}),(0,s.jsx)("pre",{className:"whitespace-pre-wrap text-xs font-mono bg-gray-50 p-1.5 rounded border border-gray-200",children:String(t)}),(0,s.jsx)("p",{className:"font-medium mt-1.5 mb-1",children:"Raw Result Content:"}),(0,s.jsx)("pre",{className:"whitespace-pre-wrap text-xs font-mono bg-gray-50 p-1.5 rounded border border-gray-200",children:e})]})}else if("search_repositories"===ee&&!X.error&&X.content)try{let e;let t=et(X);if(t)e=JSON.parse(t);else if("object"==typeof X.content&&null!==X.content)console.warn("[search_repositories] Parsing direct object content."),e=X.content;else throw Error("Search data is not in expected format (JSON string or object).");let r=e.total_count,a=e.items;if(!Array.isArray(a))throw Error("Expected an array of repository items.");es=(0,s.jsxs)("div",{className:"text-xs",children:["number"==typeof r&&(0,s.jsxs)("p",{className:"mb-2 text-gray-700",children:["Found ",(0,s.jsx)("span",{className:"font-semibold",children:r})," repositories. ",a.length<r&&"(Showing first ".concat(a.length,")")]}),0===a.length?(0,s.jsx)("p",{className:"text-gray-600",children:"No repositories found matching your query."}):(0,s.jsx)("div",{className:"overflow-x-auto border rounded-md",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-3 py-1.5 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,s.jsx)("th",{className:"px-3 py-1.5 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),(0,s.jsx)("th",{className:"px-3 py-1.5 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Language"}),(0,s.jsx)("th",{className:"px-3 py-1.5 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stars"}),(0,s.jsx)("th",{className:"px-3 py-1.5 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Forks"}),(0,s.jsx)("th",{className:"px-3 py-1.5 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Updated"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-3 py-1.5 whitespace-nowrap",children:(0,s.jsx)("a",{href:e.html_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline font-medium",children:e.full_name})}),(0,s.jsx)("td",{className:"px-3 py-1.5 text-gray-700 max-w-xs truncate",title:e.description,children:e.description||"-"}),(0,s.jsx)("td",{className:"px-3 py-1.5 whitespace-nowrap text-gray-700",children:e.language||"-"}),(0,s.jsx)("td",{className:"px-3 py-1.5 whitespace-nowrap text-gray-700",children:e.stargazers_count}),(0,s.jsx)("td",{className:"px-3 py-1.5 whitespace-nowrap text-gray-700",children:e.forks_count}),(0,s.jsx)("td",{className:"px-3 py-1.5 whitespace-nowrap text-gray-700",children:Z(e.updated_at)})]},e.id))})]})})]})}catch(t){console.error("Error parsing or rendering search_repositories result:",t);let e=er(X);es=(0,s.jsxs)("div",{className:"text-red-700 text-xs",children:[(0,s.jsx)("p",{className:"font-medium mb-1",children:"Error rendering repository search results:"}),(0,s.jsx)("pre",{className:"whitespace-pre-wrap text-xs font-mono bg-gray-50 p-1.5 rounded border border-gray-200",children:String(t)}),(0,s.jsx)("p",{className:"font-medium mt-1.5 mb-1",children:"Raw Result Content:"}),(0,s.jsx)("pre",{className:"whitespace-pre-wrap text-xs font-mono bg-gray-50 p-1.5 rounded border border-gray-200",children:e})]})}else if("get_file_contents"===ee&&!X.error&&X.content)try{let e;let t=et(X);if(t)e=JSON.parse(t);else if("object"==typeof X.content&&null!==X.content)console.warn("[get_file_contents] Parsing direct object/array content."),e=X.content;else throw Error("File/Directory data is not in expected format (JSON string or object/array).");if(Array.isArray(e)){let t=e;es=0===t.length?(0,s.jsx)("p",{className:"text-xs text-gray-600",children:"Directory is empty."}):(0,s.jsx)("div",{className:"overflow-x-auto border rounded-md",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 text-xs",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-3 py-1.5 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,s.jsx)("th",{className:"px-3 py-1.5 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,s.jsx)("th",{className:"px-3 py-1.5 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Size"}),(0,s.jsx)("th",{className:"px-3 py-1.5 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Path"}),(0,s.jsx)("th",{className:"px-3 py-1.5 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsxs)("td",{className:"px-3 py-1.5 whitespace-nowrap font-medium text-gray-800 flex items-center",children:["dir"===e.type?(0,s.jsx)(c.A,{className:"h-3.5 w-3.5 mr-1.5 text-blue-500 flex-shrink-0"}):(0,s.jsx)(x,{className:"h-3.5 w-3.5 mr-1.5 text-gray-500 flex-shrink-0"}),(0,s.jsx)("span",{className:"truncate",title:e.name,children:e.name})]}),(0,s.jsx)("td",{className:"px-3 py-1.5 whitespace-nowrap font-mono text-gray-600",children:e.type}),(0,s.jsx)("td",{className:"px-3 py-1.5 whitespace-nowrap text-right text-gray-600",children:e.size>0?"".concat(e.size," bytes"):"-"}),(0,s.jsx)("td",{className:"px-3 py-1.5 whitespace-nowrap font-mono text-gray-600 truncate",title:e.path,children:e.path}),(0,s.jsx)("td",{className:"px-3 py-1.5 whitespace-nowrap",children:(0,s.jsxs)(s.Fragment,{children:[e.html_url&&(0,s.jsx)("a",{href:e.html_url,target:"_blank",rel:"noopener noreferrer",children:(0,s.jsx)(f.$,{variant:"ghost",size:"sm",className:"text-xs h-auto px-1 py-0.5",children:(0,s.jsx)(o.A,{className:"h-3 w-3"})})}),e.download_url&&(0,s.jsx)("a",{href:e.download_url,target:"_blank",rel:"noopener noreferrer",download:e.name,children:(0,s.jsx)(f.$,{variant:"ghost",size:"sm",className:"text-xs h-auto px-1 py-0.5",children:(0,s.jsx)(m,{className:"h-3 w-3"})})})]})})]},e.path))})]})})}else if("object"==typeof e&&null!==e){let t=e;if(!t.path)throw Error("Expected a file content object with a path.");let r="base64"===t.encoding&&t.content?atob(t.content):t.content||"(No content)",n=r.substring(0,300);q.id;let[l,i]=(0,a.useState)(!1),c=M(t.name||t.path||"");es=(0,s.jsxs)("div",{className:"space-y-3 text-xs",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,s.jsxs)("p",{className:"text-sm font-medium font-mono truncate mr-2 flex-grow",title:t.path,children:[t.name," (",t.path,")"]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[t.html_url&&(0,s.jsx)("a",{href:t.html_url,target:"_blank",rel:"noopener noreferrer",children:(0,s.jsxs)(f.$,{variant:"outline",size:"sm",className:"text-xs h-auto px-1.5 py-0.5",children:[(0,s.jsx)(o.A,{className:"h-3 w-3 mr-1"})," GitHub"]})}),t.download_url&&(0,s.jsx)("a",{href:t.download_url,target:"_blank",rel:"noopener noreferrer",download:t.name,children:(0,s.jsxs)(f.$,{variant:"outline",size:"sm",className:"text-xs h-auto px-1.5 py-0.5",children:[(0,s.jsx)(m,{className:"h-3 w-3 mr-1"})," Download"]})})]})]}),(0,s.jsx)("div",{className:"overflow-x-auto border rounded-md",children:(0,s.jsx)("table",{className:"min-w-full divide-y divide-gray-200 text-xs",children:(0,s.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-3 py-1.5 font-medium text-gray-500",children:"Path"}),(0,s.jsx)("td",{className:"px-3 py-1.5 font-mono text-gray-800",children:t.path})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-3 py-1.5 font-medium text-gray-500",children:"Size"}),(0,s.jsxs)("td",{className:"px-3 py-1.5 text-gray-800",children:[t.size," bytes"]})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-3 py-1.5 font-medium text-gray-500",children:"Encoding"}),(0,s.jsx)("td",{className:"px-3 py-1.5 text-gray-800",children:t.encoding||"-"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-3 py-1.5 font-medium text-gray-500",children:"SHA"}),(0,s.jsx)("td",{className:"px-3 py-1.5 font-mono text-gray-800",children:t.sha})]})]})})}),(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsx)("div",{className:"flex justify-between items-center mb-1",children:(0,s.jsxs)("h5",{className:"text-xs font-medium",children:["File Content ","base64"===t.encoding?"(Base64 Decoded)":""]})}),(0,s.jsx)(E.A,{language:c,style:S.A,customStyle:{maxHeight:l?"none":"240px",overflowY:"auto",margin:0,fontSize:"0.75rem",border:"1px solid #e5e7eb",borderRadius:"0.25rem",padding:"0.375rem"},wrapLines:!0,lineProps:{style:{whiteSpace:"pre-wrap",wordBreak:"break-all"}},children:"".concat(n).concat(r.length>300?"\\n...":"")})]})]})}else throw Error("Unexpected format for get_file_contents result.")}catch(t){console.error("Error parsing or rendering get_file_contents result:",t);let e=er(X);es=(0,s.jsxs)("div",{className:"text-red-700 text-xs",children:[(0,s.jsx)("p",{className:"font-medium mb-1",children:"Error rendering file content:"}),(0,s.jsx)("pre",{className:"whitespace-pre-wrap text-xs font-mono bg-gray-50 p-1.5 rounded border border-gray-200",children:String(t)}),(0,s.jsx)("p",{className:"font-medium mt-1.5 mb-1",children:"Raw Result Content:"}),(0,s.jsx)("pre",{className:"whitespace-pre-wrap text-xs font-mono bg-gray-50 p-1.5 rounded border border-gray-200",children:e})]})}else if("get_issue"===ee&&!X.error&&X.content)try{let e;let t=et(X);if(t)e=JSON.parse(t);else if("object"==typeof X.content&&null!==X.content)console.warn("[get_issue] Parsing direct object content."),e=X.content;else throw Error("Issue data is not in expected format (JSON string or object).");if("object"!=typeof e||null===e||!e.id)throw Error("Invalid issue data format.");q.id,es=(0,s.jsxs)("div",{className:"space-y-3 text-xs",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,s.jsxs)("h4",{className:"text-base font-semibold mr-2 flex-grow",children:[e.title," (#",e.number,")"]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[(0,s.jsx)(b.E,{variant:"open"===e.state?"default":"secondary",className:"capitalize text-xs px-1.5 py-0.5 ".concat("open"===e.state?"bg-green-100 text-green-800 border-green-200":"bg-purple-100 text-purple-800 border-purple-200"),children:e.state}),e.html_url&&(0,s.jsx)("a",{href:e.html_url,target:"_blank",rel:"noopener noreferrer",children:(0,s.jsxs)(f.$,{variant:"outline",size:"sm",className:"text-xs h-auto px-1.5 py-0.5",children:[(0,s.jsx)(o.A,{className:"h-3 w-3 mr-1"})," GitHub"]})})]})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between text-xs text-gray-600 gap-1",children:[Y(e.user,e.created_at,"opened this issue"),(0,s.jsxs)("span",{className:"text-gray-500",children:["Updated ",Z(e.updated_at)]})]}),Q(e.labels),e.body&&(0,s.jsxs)("div",{className:"mt-3 border rounded-md p-2 bg-gray-50",children:[(0,s.jsx)("h5",{className:"text-xs font-medium mb-1",children:"Description"}),(0,s.jsx)("div",{className:"prose prose-sm max-w-none text-xs",children:(0,s.jsx)(A.oz,{children:e.body})})]}),(0,s.jsx)("div",{className:"overflow-x-auto border rounded-md",children:(0,s.jsx)("table",{className:"min-w-full divide-y divide-gray-200 text-xs",children:(0,s.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-3 py-1.5 font-medium text-gray-500 w-1/4",children:"ID"}),(0,s.jsx)("td",{className:"px-3 py-1.5 text-gray-800",children:e.id})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-3 py-1.5 font-medium text-gray-500",children:"Comments"}),(0,s.jsx)("td",{className:"px-3 py-1.5 text-gray-800",children:e.comments})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-3 py-1.5 font-medium text-gray-500",children:"Author Association"}),(0,s.jsx)("td",{className:"px-3 py-1.5 text-gray-800",children:e.author_association})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-3 py-1.5 font-medium text-gray-500",children:"Locked"}),(0,s.jsx)("td",{className:"px-3 py-1.5 text-gray-800",children:e.locked?"Yes":"No"})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-3 py-1.5 font-medium text-gray-500",children:"Reactions"}),(0,s.jsx)("td",{className:"px-3 py-1.5 text-gray-800",children:null!==(J=null===(H=e.reactions)||void 0===H?void 0:H.total_count)&&void 0!==J?J:0})]})]})})})]})}catch(t){console.error("Error parsing or rendering get_issue result:",t);let e=er(X);es=(0,s.jsxs)("div",{className:"text-red-700 text-xs",children:[(0,s.jsx)("p",{className:"font-medium mb-1",children:"Error rendering issue details:"}),(0,s.jsx)("pre",{className:"whitespace-pre-wrap text-xs font-mono bg-gray-50 p-1.5 rounded border border-gray-200",children:String(t)}),(0,s.jsx)("p",{className:"font-medium mt-1.5 mb-1",children:"Raw Result Content:"}),(0,s.jsx)("pre",{className:"whitespace-pre-wrap text-xs font-mono bg-gray-50 p-1.5 rounded border border-gray-200",children:e})]})}else if("get_issue_comments"===ee&&!X.error&&X.content)try{let e;let t=et(X);if(t)e=JSON.parse(t);else if(Array.isArray(X.content))console.warn("[get_issue_comments] Parsing direct array content."),e=X.content;else throw Error("Comments data is not in expected format (JSON string or array).");if(!Array.isArray(e))throw Error("Expected an array of comments.");es=0===e.length?(0,s.jsx)("p",{className:"text-xs text-gray-600",children:"No comments found for this issue."}):(0,s.jsx)("div",{className:"space-y-4",children:e.map((e,t)=>(0,s.jsxs)("div",{className:"border rounded-md overflow-hidden",children:[(0,s.jsxs)("div",{className:"bg-gray-50 px-2 py-1.5 border-b flex justify-between items-center",children:[Y(e.user,e.created_at,"commented on"),(0,s.jsx)("code",{className:"text-xs bg-gray-100 px-1 py-0.5 rounded truncate ml-2",title:e.path,children:e.path})]}),e.diff_hunk&&(0,s.jsx)("pre",{className:"text-xs p-2 bg-gray-100 border-b overflow-x-auto max-h-40 font-mono",children:e.diff_hunk}),(0,s.jsx)("div",{className:"p-2 text-xs prose prose-sm max-w-none",children:(0,s.jsx)(A.oz,{children:e.body})})]},e.id||t))})}catch(t){console.error("Error parsing or rendering get_issue_comments result:",t);let e=er(X);es=(0,s.jsxs)("div",{className:"text-red-700 text-xs",children:[(0,s.jsx)("p",{className:"font-medium mb-1",children:"Error rendering issue comments:"}),(0,s.jsx)("pre",{className:"whitespace-pre-wrap text-xs font-mono bg-gray-50 p-1.5 rounded border border-gray-200",children:String(t)}),(0,s.jsx)("p",{className:"font-medium mt-1.5 mb-1",children:"Raw Result Content:"}),(0,s.jsx)("pre",{className:"whitespace-pre-wrap text-xs font-mono bg-gray-50 p-1.5 rounded border border-gray-200",children:e})]})}else if("get_pull_request"===ee&&!X.error&&X.content)try{let e;let t=et(X);if(t)e=JSON.parse(t);else if("object"==typeof X.content&&null!==e)console.warn("[get_pull_request] Parsing direct object content."),e=X.content;else throw Error("Pull request data is not in expected format (JSON string or object).");if("object"!=typeof e||null===e||!e.id)throw Error("Invalid pull request data format.");q.id;let r="default",a="bg-green-100 text-green-800 border-green-200";"closed"===e.state&&(e.merged?(r="secondary",a="bg-purple-100 text-purple-800 border-purple-200"):(r="outline",a="bg-red-100 text-red-800 border-red-200")),es=(0,s.jsxs)("div",{className:"space-y-3 text-xs",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,s.jsxs)("h4",{className:"text-base font-semibold mr-2 flex-grow",children:[e.title," (#",e.number,")"]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[(0,s.jsx)(b.E,{variant:r,className:"capitalize text-xs px-1.5 py-0.5 ".concat(a),children:e.merged?"Merged":e.state}),e.html_url&&(0,s.jsx)("a",{href:e.html_url,target:"_blank",rel:"noopener noreferrer",children:(0,s.jsxs)(f.$,{variant:"outline",size:"sm",className:"text-xs h-auto px-1.5 py-0.5",children:[(0,s.jsx)(o.A,{className:"h-3 w-3 mr-1"})," GitHub"]})})]})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between text-xs text-gray-600 gap-1 flex-wrap",children:[Y(e.user,e.created_at,"wants to merge ".concat(e.commits," commit(s) into")),(0,s.jsx)("code",{className:"text-xs bg-gray-100 px-1 py-0.5 rounded",children:null===(P=e.base)||void 0===P?void 0:P.label})," from ",(0,s.jsx)("code",{className:"text-xs bg-gray-100 px-1 py-0.5 rounded",children:null===($=e.head)||void 0===$?void 0:$.label})]}),e.merged&&e.merged_by&&Y(e.merged_by,e.merged_at,"merged"),e.closed_at&&!e.merged&&(0,s.jsxs)("span",{className:"text-xs text-gray-500",children:["Closed on ",Z(e.closed_at)]}),e.body&&(0,s.jsxs)("div",{className:"mt-3 border rounded-md p-2 bg-gray-50",children:[(0,s.jsx)("h5",{className:"text-xs font-medium mb-1",children:"Description"}),(0,s.jsx)("div",{className:"prose prose-sm max-w-none text-xs",children:(0,s.jsx)(A.oz,{children:e.body})})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-x-3 gap-y-1 items-center text-xs text-gray-700",children:[(0,s.jsxs)(b.E,{variant:"secondary",className:"whitespace-nowrap px-1.5 py-0.5 text-xs",children:[e.commits||0," Commits"]}),(0,s.jsxs)(b.E,{variant:"secondary",className:"whitespace-nowrap px-1.5 py-0.5 text-xs",children:[e.changed_files||0," Files Changed"]}),(0,s.jsxs)(b.E,{variant:"outline",className:"border-green-300 text-green-700 whitespace-nowrap px-1.5 py-0.5 text-xs",children:["+",e.additions," additions"]}),(0,s.jsxs)(b.E,{variant:"outline",className:"border-red-300 text-red-700 whitespace-nowrap px-1.5 py-0.5 text-xs",children:["-",e.deletions," deletions"]}),(0,s.jsxs)("span",{className:"whitespace-nowrap",children:[e.comments||0," Comments"]}),(0,s.jsxs)("span",{className:"whitespace-nowrap",children:[e.review_comments||0," Review Comments"]})]}),((null===(G=e.requested_reviewers)||void 0===G?void 0:G.length)>0||(null===(I=e.requested_teams)||void 0===I?void 0:I.length)>0)&&(0,s.jsxs)("div",{className:"text-xs",children:[(0,s.jsx)("h5",{className:"font-medium mb-1",children:"Reviewers"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[e.requested_reviewers.map(e=>Y(e)),e.requested_teams.map(e=>(0,s.jsx)("span",{className:"flex items-center space-x-1 text-gray-600",children:(0,s.jsx)("span",{children:e.name})},e.id))]})]})]})}catch(t){console.error("Error parsing or rendering get_pull_request result:",t);let e=er(X);es=(0,s.jsxs)("div",{className:"text-red-700 text-xs",children:[(0,s.jsx)("p",{className:"font-medium mb-1",children:"Error rendering pull request details:"}),(0,s.jsx)("pre",{className:"whitespace-pre-wrap text-xs font-mono bg-gray-50 p-1.5 rounded border border-gray-200",children:String(t)}),(0,s.jsx)("p",{className:"font-medium mt-1.5 mb-1",children:"Raw Result Content:"}),(0,s.jsx)("pre",{className:"whitespace-pre-wrap text-xs font-mono bg-gray-50 p-1.5 rounded border border-gray-200",children:e})]})}else if("get_pull_request_comments"===ee&&!X.error&&X.content)try{let e;let t=et(X);if(t)e=JSON.parse(t);else if(Array.isArray(X.content))console.warn("[get_pull_request_comments] Parsing direct array content."),e=X.content;else throw Error("Pull request comments data is not in expected format (JSON string or array).");if(!Array.isArray(e))throw Error("Expected an array of comments.");es=0===e.length?(0,s.jsx)("p",{className:"text-xs text-gray-600",children:"No review comments found for this pull request."}):(0,s.jsx)("div",{className:"space-y-4",children:e.map((e,t)=>(0,s.jsxs)("div",{className:"border rounded-md overflow-hidden",children:[(0,s.jsxs)("div",{className:"bg-gray-50 px-2 py-1.5 border-b flex justify-between items-center",children:[Y(e.user,e.created_at,"commented on"),(0,s.jsx)("code",{className:"text-xs bg-gray-100 px-1 py-0.5 rounded truncate ml-2",title:e.path,children:e.path})]}),e.diff_hunk&&(0,s.jsx)("pre",{className:"text-xs p-2 bg-gray-100 border-b overflow-x-auto max-h-40 font-mono",children:e.diff_hunk}),(0,s.jsx)("div",{className:"p-2 text-xs prose prose-sm max-w-none",children:(0,s.jsx)(A.oz,{children:e.body})})]},e.id||t))})}catch(t){console.error("Error parsing or rendering get_pull_request_comments result:",t);let e=er(X);es=(0,s.jsxs)("div",{className:"text-red-700 text-xs",children:[(0,s.jsx)("p",{className:"font-medium mb-1",children:"Error rendering pull request comments:"}),(0,s.jsx)("pre",{className:"whitespace-pre-wrap text-xs font-mono bg-gray-50 p-1.5 rounded border border-gray-200",children:String(t)}),(0,s.jsx)("p",{className:"font-medium mt-1.5 mb-1",children:"Raw Result Content:"}),(0,s.jsx)("pre",{className:"whitespace-pre-wrap text-xs font-mono bg-gray-50 p-1.5 rounded border border-gray-200",children:e})]})}else if("get_pull_request_files"===ee&&!X.error&&X.content)try{let e;let t=et(X);if(t)e=JSON.parse(t);else if(Array.isArray(X.content))console.warn("[get_pull_request_files] Parsing direct array content."),e=X.content;else throw Error("Pull request files data is not in expected format (JSON string or array).");if(!Array.isArray(e))throw Error("Expected an array of files.");es=0===e.length?(0,s.jsx)("p",{className:"text-xs text-gray-600",children:"No changed files found for this pull request."}):(0,s.jsxs)("div",{children:[(0,s.jsxs)("h5",{className:"text-xs font-medium mb-1.5",children:[e.length," changed files:"]}),(0,s.jsx)(_.nD,{type:"single",collapsible:!0,className:"w-full border rounded-md",children:e.map((e,t)=>{if("pr-file-".concat(q.id,"-").concat(t),!e)return null;let r="outline",a="border-blue-300 text-blue-700 bg-blue-50";return"added"===e.status&&(r="default",a="border-green-300 text-green-700 bg-green-50"),"removed"===e.status&&(r="destructive",a="border-red-300"),"renamed"===e.status&&(r="outline",a="border-yellow-300 text-yellow-700 bg-yellow-50"),(0,s.jsxs)(_.As,{value:"item-".concat(t),children:[(0,s.jsx)(_.$m,{className:"text-xs px-2 py-1.5 hover:bg-gray-50",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center w-full gap-1",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-1.5 truncate mr-4 flex-shrink min-w-0",children:[(0,s.jsx)(b.E,{variant:r,className:"text-xs px-1 py-0 leading-tight flex-shrink-0 ".concat(a),children:e.status}),(0,s.jsx)("span",{className:"font-mono truncate text-xs",title:e.filename,children:e.filename})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1.5 flex-shrink-0 pl-6 md:pl-0",children:[(0,s.jsxs)("span",{className:"text-green-600 text-xs",children:["+",e.additions]}),(0,s.jsxs)("span",{className:"text-red-600 text-xs",children:["-",e.deletions]})]})]})}),(0,s.jsx)(_.ub,{className:"px-0 pb-0",children:e.patch?(0,s.jsx)("div",{className:"text-xs bg-gray-50 border-t overflow-x-auto max-h-80 font-mono",children:e.patch.split("\\n").map((t,r)=>{let a={whiteSpace:"pre-wrap",display:"block",paddingLeft:"0.5rem",paddingRight:"0.5rem"},n=t,l="",i=M(e.filename)||"diff";t.startsWith("+")?(a.backgroundColor="rgba(217, 249, 157, 0.4)",n=t.substring(1),l="+ "):t.startsWith("-")?(a.backgroundColor="rgba(254, 202, 202, 0.4)",n=t.substring(1),l="- "):t.startsWith("@@")?(a.backgroundColor="#e5e7eb",a.color="#4b5563",n=t,l=""):(n=t.startsWith(" ")?t.substring(1):t,l="  ");let o=!t.startsWith("@@")&&n.trim().length>0;return(0,s.jsxs)("div",{style:a,className:"flex",children:[(0,s.jsx)("span",{className:"w-6 flex-shrink-0 text-right pr-2 text-gray-400",children:l}),(0,s.jsx)("div",{className:"flex-grow",children:o?(0,s.jsx)(E.A,{language:i,style:S.A,customStyle:{background:"transparent",padding:0,margin:0,overflow:"visible",whiteSpace:"pre-wrap",wordBreak:"break-all"},wrapLines:!0,lineProps:{style:{display:"block"}},children:n}):(0,s.jsx)("span",{style:{color:a.color},children:n})})]},r)})}):(0,s.jsx)("div",{className:"text-xs p-2 text-gray-500 italic border-t",children:"Patch not available."})})]},e.sha||t)})})]})}catch(t){console.error("Error parsing or rendering get_pull_request_files result:",t);let e=er(X);es=(0,s.jsxs)("div",{className:"text-red-700 text-xs",children:[(0,s.jsx)("p",{className:"font-medium mb-1",children:"Error rendering pull request files:"}),(0,s.jsx)("pre",{className:"whitespace-pre-wrap text-xs font-mono bg-gray-50 p-1.5 rounded border border-gray-200",children:String(t)}),(0,s.jsx)("p",{className:"font-medium mt-1.5 mb-1",children:"Raw Result Content:"}),(0,s.jsx)("pre",{className:"whitespace-pre-wrap text-xs font-mono bg-gray-50 p-1.5 rounded border border-gray-200",children:e})]})}else if("get_me"===ee&&!X.error&&X.content)try{let e;let t=et(X);if(t)e=JSON.parse(t);else if("object"==typeof X.content&&null!==X.content)console.warn("[get_me] Parsing direct object content."),e=X.content;else throw Error("User data is not in expected format (JSON string or object).");if("object"!=typeof e||null===e)throw Error("Expected a user object.");es=(0,s.jsxs)("div",{className:"flex items-start space-x-3 text-xs",children:[e.avatar_url&&(0,s.jsx)("img",{src:e.avatar_url,alt:"".concat(e.login," avatar"),className:"h-12 w-12 rounded-full border"}),(0,s.jsxs)("div",{className:"flex-grow",children:[(0,s.jsxs)("div",{className:"flex items-baseline space-x-1.5",children:[(0,s.jsx)("h4",{className:"text-base font-semibold",children:e.name||e.login}),e.login&&(0,s.jsxs)("a",{href:e.html_url,target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-blue-600 hover:underline",children:["(@",e.login,")"]})]}),e.bio&&(0,s.jsx)("p",{className:"mt-0.5 text-gray-700 text-xs",children:e.bio}),(0,s.jsxs)("div",{className:"mt-1.5 flex items-center space-x-3 text-gray-600 text-xs",children:[(0,s.jsxs)("span",{children:[(0,s.jsx)("span",{className:"font-medium",children:null!==(F=e.public_repos)&&void 0!==F?F:"-"})," Public Repos"]}),(0,s.jsxs)("span",{children:[(0,s.jsx)("span",{className:"font-medium",children:null!==(W=e.followers)&&void 0!==W?W:"-"})," Followers"]}),(0,s.jsxs)("span",{children:[(0,s.jsx)("span",{className:"font-medium",children:null!==(V=e.following)&&void 0!==V?V:"-"})," Following"]})]}),(0,s.jsxs)("p",{className:"mt-1 text-gray-500 text-xs",children:["GitHub member since ",Z(e.created_at)]})]})]})}catch(t){console.error("Error parsing or rendering get_me result:",t);let e=er(X);es=(0,s.jsxs)("div",{className:"text-red-700 text-xs",children:[(0,s.jsx)("p",{className:"font-medium mb-1",children:"Error rendering user profile:"}),(0,s.jsx)("pre",{className:"whitespace-pre-wrap text-xs font-mono bg-gray-50 p-1.5 rounded border border-gray-200",children:String(t)}),(0,s.jsx)("p",{className:"font-medium mt-1.5 mb-1",children:"Raw Result Content:"}),(0,s.jsx)("pre",{className:"whitespace-pre-wrap text-xs font-mono bg-gray-50 p-1.5 rounded border border-gray-200",children:e})]})}else if(X.error)es=(0,s.jsxs)("div",{className:"text-red-700 text-xs",children:[(0,s.jsx)("p",{className:"font-medium mb-1",children:"Error:"}),(0,s.jsx)("pre",{className:"whitespace-pre-wrap text-xs font-mono bg-gray-50 p-1.5 rounded border border-gray-200 overflow-x-auto",children:(()=>{try{let e=X.error;if("string"==typeof e&&e.trim().startsWith("{"))return JSON.stringify(JSON.parse(e),null,2);return String(e)}catch(e){return String(X.error)}})()})]});else if(X.content){let e=null,t=et(X);if(null!==t)try{e=JSON.parse(t)}catch(r){e=t}else console.warn("Parsing default/unknown tool result from potentially direct content structure."),e=X.content;es="object"==typeof e&&null!==e?(0,s.jsx)("pre",{className:"text-xs font-mono bg-gray-50 p-1.5 rounded border border-gray-200 overflow-x-auto",children:JSON.stringify(e,null,2)}):(0,s.jsx)("pre",{className:"whitespace-pre-wrap text-xs font-mono bg-gray-50 p-1.5 rounded border border-gray-200 overflow-x-auto",children:String(null!=e?e:"")})}let ea=X.error?"border-red-200":"border-green-200",en=X.error?"bg-red-50":"bg-green-50";return(0,s.jsxs)(j.Zp,{className:"mt-3 border ".concat(ea," ").concat(T?"":en),children:[(0,s.jsxs)(j.aR,{className:"flex flex-row items-center justify-between p-2 ".concat(T?en:""),children:[(0,s.jsxs)(j.ZB,{className:"text-sm font-semibold",children:["Execution Result ",K?"for ".concat(K):""]}),(0,s.jsx)(f.$,{variant:"ghost",size:"sm",onClick:()=>B(!T),className:"text-xs",children:T?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.A,{className:"h-4 w-4 mr-1"})," Hide"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.A,{className:"h-4 w-4 mr-1"})," Show"]})})]}),T&&(0,s.jsx)(j.Wu,{className:"p-2 border-t",children:(0,s.jsx)("div",{className:"mt-1 rounded overflow-x-auto max-h-[450px]",children:es})})]})})()}),("queued"===q.status||"running"===q.status)&&(0,s.jsxs)("div",{className:"p-2 text-xs text-gray-500 flex items-center",children:[(0,s.jsx)("div",{className:"animate-spin h-3 w-3 border-2 border-gray-400 rounded-full border-t-transparent mr-1.5"}),"Processing..."]})]})]})},(e,t)=>{let r=e.cell,s=t.cell;if(r===s&&e.isExecuting===t.isExecuting)return!0;for(let e of["id","type","status","tool_name","result"])if(r[e]!==s[e])return!1;return e.isExecuting===t.isExecuting})}}]);